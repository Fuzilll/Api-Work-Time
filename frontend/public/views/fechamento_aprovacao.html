<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Aprovar Fechamento</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- JS do Bootstrap + dependências -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/fechamento_de_folha.css">
    <!-- Adicione a biblioteca SweetAlert2 para melhores alertas -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <div class="sidebar closed" id="sidebar">
        <img src="/assets/images/abrir.png" alt="Abrir" class="toggle-btn" id="toggleBtn">
        <div class="logo-container text-center">
            <img src="/assets/images/logo.png" alt="Logo" class="img-fluid">
        </div>
        <div id="menu"></div>
        <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span>Sair</span></a>
    </div>
    <div class="mobile-menu">
        <div class="mobile-header">
            <button class="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <img src="/assets/images/logo-mobile.png" alt="Logo" class="mobile-logo">
        </div>
        <div class="mobile-menu-items" id="mobileMenu"></div>
    </div>

    <div class="content">
        <div class="topbar">
            <button class="help-btn"><i class="fas fa-question-circle"></i> Ajuda</button>
        </div>
        <div container mt-4>
            <h1>Fechamentos Pendentes</h1>

            <div class="filtros d-flex gap-3 mb-3">
                <input type="text" class="form-control" id="filtroNome" placeholder="Pesquisar por nome">
                <input type="month" class="form-control" id="filtroMes">
            </div>

            <table class="table table-bordered" id="tabelaFechamentos">
                <thead class="table-dark">
                    <tr>
                        <th>Funcionário</th>
                        <th>Mês Referência</th>
                        <th>Horas Normais</th>
                        <th>Horas Extras</th>
                        <th>Faltas</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center" id="paginacao"></ul>
            </nav>

            <div id="loading" class="text-center" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Carregando...</span>
                </div>
                <p>Carregando fechamentos...</p>
            </div>

            <div id="erro" class="alert alert-danger d-none"></div>
        </div>
    </div>

    <!-- Modal de Detalhes (opcional) -->
    <div class="modal fade" id="modalDetalhes" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Detalhes do Fechamento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modalDetalhesBody">
                    <!-- Conteúdo será preenchido dinamicamente -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/menu.js"></script>
    <script src="/js/sidebarToggle.js"></script>
    <script src="/js/aprovar_fechamento.js"></script>
    <!-- passo 4 -->
    <script src="/js/alterar_modo.js"></script>
</body>

</html>